!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=()=>{const e=document.querySelector(".head"),t=document.querySelector(".clubs-list > ul"),n=document.getElementById("free_visit_form"),o=document.getElementById("callback_form");e.addEventListener("click",e=>{const l=e.target;l.closest(".club-select")&&(t.style.display="block"),l.matches(".open-popup")&&(n.style.display="block"),l.matches(".callback-btn")&&(o.style.display="block")}),document.body.addEventListener("click",e=>{const l=e.target;l.closest(".club-select")||(t.style.display="none"),(l.matches(".close_icon")||l.matches(".overlay")&&!l.closest(".form-content"))&&(n.style.display="none",o.style.display="none")})};var l=()=>{const e=document.getElementById("thanks"),t=e.querySelector(".form-content");let n={};document.querySelectorAll("form").forEach(o=>{o.addEventListener("submit",l=>{l.preventDefault();const r=o.querySelector('input[type="checkbox"]');if(r&&!r.checked)return o.querySelector(".personal-data > label").style.border="2px solid red",void r.addEventListener("change",()=>{r.checked&&(o.querySelector(".personal-data > label").style.border="")});new FormData(o).forEach((e,t)=>{n[t]=e}),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(n).then(t=>{if(200!==t.status)throw new Error("Что-то пошло не так...");e.style.display="block"}).catch(n=>{t.innerHTML=`\n                        <h4>Ошибка отправки!</h4>\n                        <p>${n} \n                        <br><br>\n                        Пожалуйста, попробуйте позже...</p>\n                        <br>\n                    `,e.style.display="block"}).finally(()=>{o.querySelectorAll("input").forEach(e=>{"radio"!==e.getAttribute("type")&&(e.value=""),e.checked=""}),n={}})})})};var r=()=>{const e=document.querySelector(".fixed-gift"),t=document.getElementById("gift"),n=document.getElementById("thanks");e.addEventListener("click",()=>{t.style.display="block",e.style.display="none"}),t.addEventListener("click",e=>{const n=e.target;(n.matches(".overlay")&&!n.matches(".form-content")||n.matches(".close-btn")||n.matches(".close_icon"))&&(t.style.display="none")}),n.addEventListener("click",e=>{const t=e.target;(t.matches(".overlay")&&!t.matches(".form-content")||t.matches(".close-btn")||t.matches(".close_icon"))&&(n.style.display="none")})};var c=function(e,t="+7 (___) ___-__-__"){const n=document.querySelectorAll(e);function o(e){const n=e.keyCode,o=t,l=o.replace(/\D/g,""),r=this.value.replace(/\D/g,"");let c=0,s=o.replace(/[_\d]/g,(function(e){return c<r.length?r.charAt(c++)||l.charAt(c):e}));c=s.indexOf("_"),-1!=c&&(s=s.slice(0,c));let a=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}for(const e of n)e.addEventListener("input",o),e.addEventListener("focus",o),e.addEventListener("blur",o)};var s=()=>{document.body.addEventListener("input",e=>{const t=e.target;t.matches('input[name="name"]')&&(t.value=t.value.replace(/[^а-я ]/gi,""))})};var a=(e,t)=>{const n=document.querySelector(e),o=n.querySelectorAll(t);let l,r=0;o.forEach((t,n)=>{".main-slider"===e&&(t.style.position="absolute"),n>0&&(t.style.display="none")});const c=(e,t)=>{e[t].style.display="none"},s=(e,t)=>{e[t].style.display="block"},a=()=>{c(o,r),r++,r>=o.length&&(r=0),s(o,r)},i=()=>{l=setInterval(a,1e3)};n.addEventListener("click",e=>{const t=e.target;t.closest(".prev")&&(c(o,r),r--,r<0&&(r=o.length-1),s(o,r)),t.closest(".next")&&(c(o,r),r++,r>=o.length&&(r=0),s(o,r))}),n.addEventListener("mouseover",e=>{const t=e.target;(t.closest(".prev")||t.closest(".next"))&&clearInterval(l)}),n.addEventListener("mouseout",e=>{e.target.closest(".prev, .next")&&i()}),i()};var i=()=>{const e=document.querySelectorAll(".services-slider > .slide"),t=document.querySelector(".services-slider > .next"),n=document.querySelector(".services-slider > .prev");let o=0;t.style.marginTop="55px",n.style.marginTop="55px";const l=()=>{e.forEach((e,t)=>{e.style.display=t>=o&&t<=4+o?"block":"none"})};l(),t.addEventListener("click",()=>{o++,e.length-1<4+o&&o--,l()}),n.addEventListener("click",()=>{o--,o<=0&&(o=0),l()})};var d=()=>{const e=document.querySelector(".menu-button"),t=document.querySelector(".popup-menu"),n=()=>{const n=document.documentElement.clientWidth;if(console.log("widthWindow: ",n),n<768){e.addEventListener("click",()=>{t.style.display="flex"}),t.addEventListener("click",e=>{const n=e.target;(n.matches(".close-menu-btn > img")||n.matches(".scroll > a"))&&(t.style.display="none")});const n=document.querySelector(".top-menu"),o=document.querySelector(".head-slider");window.addEventListener("scroll",()=>{let e=o.getBoundingClientRect().top;n.style.position=e<=0?"fixed":"relative"})}};n(),window.addEventListener("resize",n)};var u=()=>{const e=document.getElementById("totop"),t=document.querySelector("#clubs > .wrapper");window.addEventListener("scroll",()=>{let n=t.getBoundingClientRect().top;e.style.display=n<=100?"block":"none"})};var y=()=>{const e=document.getElementById("card_order"),t=document.getElementById("price-total"),n=(e.querySelector('.price-message > input[name="PromoCode"]'),[1999,9900,13900,19900]),o=[2999,14990,21990,24990];let l=1;const r=(e,n)=>{e.forEach((e,o)=>{if(o===n){let n=Math.floor(e*l);t.textContent=""+n}})},c=()=>{const t=e.querySelectorAll('.time > input[name="card-type"]'),l=document.getElementById("card_leto_mozaika");let c;t.forEach((e,t)=>{e.checked&&(c=t)}),l.checked?r(n,c):r(o,c)};c(),e.addEventListener("click",e=>{const t=e.target;(t.matches("#card_leto_mozaika")||t.matches("#card_leto_schelkovo")||t.matches('.time > input[name="card-type"]'))&&c()}),e.addEventListener("input",e=>{const t=e.target;t.matches('.price-message > input[name="PromoCode"]')&&(l="ТЕЛО2020"===t.value?.7:1,c())})};(()=>{document.querySelectorAll(".scroll > a").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("href").substr(1);"close"!==n&&document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})})})})(),o(),r(),c('input[name="phone"]'),s(),l(),a(".main-slider",".slide"),a(".gallery-slider",".slide"),i(),d(),u(),y()}]);